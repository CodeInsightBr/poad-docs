
# üìù Changelog

## üìÖ Vers√£o 07/01

### üîß Corre√ß√µes e Ajustes

#### **Geral**

-   Corrigido problema onde o t√≠tulo da tela anterior permanecia fixado em submenus. Agora, cada submenu exibe o t√≠tulo correto.
-   **Logout da Intranet**: Ajustado comportamento do logout para garantir sua correta execu√ß√£o.

----------
### Integra√ß√£o ClickSign

- Criada interface de configura√ß√£o na intranent
- Implementa√ß√£o de todas os consumos de endpoints da API do ClickSign
	-  createEnvelope
	- uploadDocument
	- createSignatureRequest
	-  requirementSignatureRequest (agree, provide_evidence)
	- requestSignatureRequest
	- getDocumentStatus
	- cancelDocument
	- downloadSignedDocument


A integra√ß√£o visa simplificar todo uso de assinatura no sistema. 
Fun√ß√µes podem ser testadas em um comportamento no modulo de Loca√ß√µes
Necessita trocar a chave de API nas configura√ß√µes para usar a conta de voc√™s e verificar os documentos no ambiente de sandbox da clicksing


###  **M√≥dulo:  Estacionamento**

-  Vouchers
	-  Ajuste tabela
	-  Filtro por nome e codigo
	-  Novos campos de tipo e valor (porcentagem/valor)
-  Convenios
	-  Ajuste tabela
-  Vouchers
	-  Ajuste tabela
----------

###  **M√≥dulo:  Gerenciamento de Quadro Social**

-  Troca de nome no menu
-  Inclus√£o de estatisticas na listagem
-  Novos filtros e ajustes no filtro 

###  **M√≥dulo:  Atividades esportivas**

- **Intranet**
	- **Turmas**
		- Mudan√ßa de exibi√ß√£o de turmas retirado do modal
		- As turmas agora possuem campo de horario de domingo a segunda com horario para selecionar os horarios das aulas
		- Novo layout para lista de turmas
		- Corre√ß√£o no editar
		- Gerenciar Pacotes
			- Cria√ß√£o de pacotes
			- Edi√ß√£o de pacotes
			- Exclus√£o de pacotes
			- Desabilitar/Ativar pacote
		- Novo bot√£o de detalhe da turma, exibe resumo da turma
	- **Menu Matriculas**
		- Gest√£o de matriculas, mostra estatisticas de todas as matriculas do sistema
		- Filtros por Esporte, Turma, Status
		- Altera√ß√£o de Status de matricula (Ativar/Desativa)
		- Nova Matricula
			- Busca todos usu√°rios do sistema
			- Selecionar Turma/Esporte
			- Selecionar plano (Pacote cadastrado disponivel)
			- Possibilidade de matricular uma aula experimental

- **Meu Clube**
	- Menu Atividades Esportivas
	- Listagem de Turmas
	- Modal de Inscri√ß√£o de Matricula
	- Modal de Aula temporaria
	- Minhas Matriculas

- **Bugs Conhecidos/Necessidades**
	- Intranet
		- Ver detalhes da Matricula
		-  Upload de documentos para assinatura
		- Cancelamento de matricula
	- Meu Cllube
		- Detalhes de Matricula
			- Assinatura de matricula
			- Cancelamento
		- Aula experimental esta sendo tratada como um pacote anual
		- Aula experimental necessidade do campo de data para agendamento
		- Termino com a inclus√£o do sistema de Pagamento
	
	- Outros pontos
		- Verificar necessidade de formas de pagamentos e diferentes pre√ßos para tipo de associa√ß√£o
		- Verificar as necessidade com os terceiros e como sera tratado
		- Renova√ß√£o de Matricula

----------

### üóì **M√≥dulo:  Eventos**

-   **Corre√ß√£o no filtro de pesquisa por nome**.
-   **Adicionado novo filtro por status**, permitindo refinar a pesquisa conforme a situa√ß√£o dos eventos.
-   **Novo filtro por tipo de evento**, facilitando a segmenta√ß√£o.
-   **Blocos de estat√≠sticas**: agora exibem contagem detalhada de eventos de forma mais clara e intuitiva.
-   **Participantes**: tabela aprimorada com pesquisa/filtro e exporta√ß√£o para CSV, al√©m da exibi√ß√£o do status do participante.

----------
### üè¢ **M√≥dulo: Loca√ßao**

#### **Intranet**

-   **Reservas**: corrigido erro ao tentar salvar altera√ß√µes em reservas, que gerava a exce√ß√£o `infrastructure\core\exception\InvalidRequestException`.
-   Adicionado status do documento.
-   Suporte ao LibreOffice no backend para leitura de `.docx` e gera√ß√£o de PDFs de forma nativa.
-   Detec√ß√£o autom√°tica de vari√°veis em `.docx` anexado para documentos.
-   Funcionalidade de edi√ß√£o e preenchimento de vari√°veis em documentos.
-   **Bot√£o de auto preenchimento**: predi√ß√£o autom√°tica das vari√°veis com base nos dados do usu√°rio/reserva (uso de IA).    
-   Classes auxiliares para gera√ß√£o de documentos.    
-   Integra√ß√£o com ClickSign.

- **Bugs Conhecidos/Necessidades**
	- Ajustar o gerenciamento de Reservas no Meu Clube/Intranet

   
----------

### üö™ **M√≥dulo: Recepe√ß√£o**

-   **Ambientes**: o bot√£o "Atualizar" estava reportado como fora da margem da p√°gina, mas o erro n√£o foi reproduzido.
-   **Catracas**: corrigido erro onde o bot√£o "Voltar" n√£o retornava √† p√°gina anterior.
-   **Visitantes**:
    -   Agora, a listagem de visitantes cadastrados √© exibida corretamente.
    -   Corrigido erro de digita√ß√£o na interface ("Nunha" alterado para "Nenhuma").
    -   Visitantes cadastrados n√£o ser√£o mais inseridos como credenciais tempor√°rias.
   
----------

### üé´ **M√≥dulo: Tickets**

-   **Dashboard**: corrigida contagem incorreta dos tickets no dashboard.
   
----------

### üë• **M√≥dulo: Staff**

-   **Usu√°rios**: corrigido erro que impedia a adi√ß√£o de novos usu√°rios, mesmo com todos os dados inseridos corretamente.
    
----------

### üçΩ **Almo√ßo de Quinta-Feira - Intranet**

-   Criada p√°gina com resumo do almo√ßo.    
-   Adicionada funcionalidade para download do CSV dos inscritos.    
-   Implementada funcionalidade para remo√ß√£o de usu√°rios inscritos.    
-   Melhorada a ordena√ß√£o da listagem dos almo√ßos por data.    
-   Ajuste na exibi√ß√£o da listagem, removendo informa√ß√£o de texto desnecess√°ria.    

#### **Almo√ßo de Quinta-Feira - Meu Clube**

-   Adicionada valida√ß√£o de data ao se inscrever, impedindo erros.    
-   Implementado modal de confirma√ß√£o ao clicar em "Inscrever-se" ou "Remover Inscri√ß√£o".    
-   Usu√°rios podem remover sua inscri√ß√£o no almo√ßo, desde que seja antes da data do evento.    

----------

### üí≥ **M√≥dulo: Pagamentos**

-   **Implementado o comando** `**processPayment**` para gerenciar pagamentos pendentes.    
-   **Adicionado suporte para atualiza√ß√£o de dados de pagamento** em m√∫ltiplos gateways.    
-   **Aprimorada a l√≥gica de atualiza√ß√£o dos itens do carrinho**, diferenciando eventos de outros produtos.    
-   **Ajustados os gateways de pagamento do Banco do Brasil e Banrisul** para maior compatibilidade.    
-   **Implementado CronJob para verifica√ß√£o autom√°tica do status dos pagamentos**.    
-   **Melhoradas fun√ß√µes de banco de dados**, incluindo `updateIn` e migra√ß√µes para armazenar informa√ß√µes de pagamento.
    
----------

### üìö **Sistema de Gerenciamento de Biblioteca**

#### üìä Relat√≥rios

#### üìñ Empr√©stimos

-   **Per√≠odo de empr√©stimos**:    
    -   Gastos de emiss√£o.        
    -   Operador respons√°vel.        
    -   Sa√≠da de empr√©stimos no per√≠odo.        
    -   Exporta√ß√£o de relat√≥rios em PDF.        
    -   Gr√°ficos representativos.
        

#### üí∞ Multas

-   **Multas em aberto**.    
-   **Multas cobradas no per√≠odo**:    
    -   Total de empr√©stimos no per√≠odo.        
    -   Exporta√ß√£o em PDF.
        

#### üîç Pesquisa de Feitos Lan√ßados

-   Resultados apresentados em grafo.    
-   Empr√©stimos restaurados.    
-   Detalhamento da cole√ß√£o.
    

#### üì¶ Itens Extraviados

-   **Detalhes**:    
    -   Data de emiss√£o.        
    -   Operador respons√°vel.        
    -   Total de itens extraviados.        
    -   Gr√°ficos por tipo de item extraviado.        

#### üè∑ Reservas

-   **Informa√ß√µes gerais**:    
    -   Data de emiss√£o.        
    -   Operador respons√°vel.        
    -   Total de reservas realizadas.        
    -   Exporta√ß√£o em PDF.        
    -   Filtros avan√ßados.        
    -   Gr√°ficos com tipos e status dos itens.        

#### üìã Invent√°rio

-   Nova guia adicionada.    
-   Inclus√£o de gr√°ficos com situa√ß√£o e tipo de itens no invent√°rio.
    

#### üîé Busca e Gest√£o de Usu√°rios

-   Busca por matr√≠cula ou nome.    
-   Expans√£o autom√°tica dos detalhes.    
-   Exibi√ß√£o de parentesco e situa√ß√£o do usu√°rio.    
-   Opera√ß√µes de reservas.    
-   Hist√≥rico de multas e empr√©stimos.    
-   Cria√ß√£o e edi√ß√£o de d√©bitos.
